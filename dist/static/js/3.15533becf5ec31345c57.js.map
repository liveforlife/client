{"version":3,"sources":["webpack:///static/js/3.15533becf5ec31345c57.js","webpack:///src/pages/register/index.vue","webpack:///./src/pages/register/index.vue?4a3e","webpack:///./src/pages/register/index.vue","webpack:///./src/pages/register/index.vue?7295","webpack:///./src/pages/register/index.vue?bacd"],"names":["webpackJsonp","GhND","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__login_login_css__","__WEBPACK_IMPORTED_MODULE_1__utils_request__","n","__WEBPACK_IMPORTED_MODULE_2__utils_session__","data","_this","this","validMobile","rule","value","callback","isok","issms","getSmsContent","getSmsContentFlag","registerForm","mobile","sms","rules","required","validator","test","checkMobile","then","_ref","success","Error","trigger","length","created","document","addEventListener","enterSubmit","destroyed","removeEventListener","methods","getSms","_this2","$message","error","sendSms","_ref2","openSuccees","count","timer","window","setInterval","clearInterval","openFalse","gotoNext","_this3","checkSms","code","_ref3","Object","$nextTick","$router","push","path","message","info","type","IlYH","exports","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","TTwy","injectStyle","ssrContext","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c2751108_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","n4vj","content","locals","syXl","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","model","prop","placeholder","$$v","$set","expression","slot","class","on","click","_s","span","to","staticRenderFns","esExports"],"mappings":"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","file":"static/js/3.15533becf5ec31345c57.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"GhND\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__login_login_css__ = __webpack_require__(\"fzeV\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__login_login_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__login_login_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_request__ = __webpack_require__(\"vLgD\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_session__ = __webpack_require__(\"RH4F\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    var _this = this;\n\n    var validMobile = function validMobile(rule, value, callback) {\n      _this.isok = false;\n    };\n    var checkMobile = function checkMobile(rule, value, callback) {\n      if (!value) {\n        return callback(new Error('请输入手机号!'));\n      } else {\n        if (!/^1\\d{10}$/.test(value)) {\n          return callback(new Error('请输入正确的手机号!'));\n        } else if (_this.isok === false) {\n          __WEBPACK_IMPORTED_MODULE_1__utils_request__[\"a\" /* default */].checkMobile({\n            mobile: _this.registerForm.mobile\n          }).then(function (_ref) {\n            var data = _ref.data;\n\n            if (data.success) {\n              _this.isok = true;\n            } else {\n              return callback(new Error('手机号已被注册!'));\n            }\n          });\n        }\n      }\n    };\n    var sms = function sms(rule, value, callback) {\n      if (!value) {\n        return callback(new Error('请输入验证码!'));\n      } else if (value.length !== 6) {\n        return callback(new Error('验证码为6位数!'));\n      } else {\n        _this.issms = true;\n      }\n    };\n    return {\n      isok: false,\n      issms: false,\n      getSmsContent: '获取验证码',\n      getSmsContentFlag: true,\n      registerForm: {\n        mobile: '',\n        sms: ''\n      },\n      rules: {\n        mobile: [{ required: true, validator: checkMobile, trigger: 'blur' }, { required: true, validator: validMobile, trigger: 'change' }],\n        sms: [{ required: true, validator: sms, trigger: 'blur' }]\n      }\n    };\n  },\n  created: function created() {\n    document.addEventListener('keydown', this.enterSubmit, false);\n  },\n  destroyed: function destroyed() {\n    document.removeEventListener('keydown', this.enterSubmit, false);\n  },\n\n\n  methods: {\n    getSms: function getSms() {\n      var _this2 = this;\n\n      if (this.getSmsContentFlag) {\n        if (!this.registerForm.mobile) {\n          this.$message.error('请输入手机号码！');\n        } else if (this.isok !== true) {\n          this.$message.error('手机号码验证不通过！');\n        } else {\n          __WEBPACK_IMPORTED_MODULE_1__utils_request__[\"a\" /* default */].sendSms({\n            mobile: this.registerForm.mobile,\n            module: 'userRegist'\n          }).then(function (_ref2) {\n            var data = _ref2.data;\n\n            if (data.success) {\n              _this2.openSuccees('验证码获取成功！');\n              _this2.getSmsContentFlag = false;\n              var count = 120;\n              var timer = window.setInterval(function () {\n                count--;\n                if (count > 0) {\n                  _this2.getSmsContent = \"剩余时间\" + count + \"s\";\n                } else {\n                  _this2.getSmsContent = \"重新获取验证码\";\n                  _this2.getSmsContentFlag = true;\n                  window.clearInterval(timer);\n                }\n              }, 1000);\n            } else {\n              _this2.openFalse('验证码获取失败！');\n            }\n          });\n        }\n      } else {\n        this.openFalse('距离上次验证时间未到两分钟');\n      }\n    },\n    gotoNext: function gotoNext() {\n      var _this3 = this;\n\n      if (this.isok === true && this.issms === true) {\n        __WEBPACK_IMPORTED_MODULE_1__utils_request__[\"a\" /* default */].checkSms({\n          mobile: this.registerForm.mobile,\n          module: 'userRegist',\n          code: this.registerForm.sms\n        }).then(function (_ref3) {\n          var data = _ref3.data;\n\n          if (data.success) {\n            Object(__WEBPACK_IMPORTED_MODULE_2__utils_session__[\"h\" /* setAuthToken */])(data);\n            Object(__WEBPACK_IMPORTED_MODULE_2__utils_session__[\"j\" /* setSSession */])('hymobile', _this3.registerForm.mobile);\n            _this3.openSuccees('手机号码验证成功！');\n            _this3.$nextTick(function () {\n              _this3.$router.push({ path: '/companyInfo' });\n            });\n          } else {\n            _this3.openFalse(data.message);\n          }\n        });\n      }\n    },\n    openSuccees: function openSuccees(info) {\n      this.$message({\n        message: info,\n        type: 'success'\n      });\n    },\n    openFalse: function openFalse(info) {\n      this.$message.error(info);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"IlYH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".getAssaCon{background-color:#bcbcbc}\", \"\", {\"version\":3,\"sources\":[\"D:/Documents/HBuilderProject/Client/src/pages/register/index.vue\"],\"names\":[],\"mappings\":\"AACA,YACC,wBAA0B,CAC1B\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.getAssaCon{\\n\\tbackground-color: #BCBCBC;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"TTwy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"GhND\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c2751108_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"syXl\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"n4vj\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c2751108_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"n4vj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"IlYH\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"4bc17ea0\", content, true, {});\n\n/***/ }),\n\n/***/ \"syXl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-login-content\"},[_c('div',{staticClass:\"loginDiv\"},[_c('div',{staticClass:\"content forget_Pwd\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号码\"},model:{value:(_vm.registerForm.mobile),callback:function ($$v) {_vm.$set(_vm.registerForm, \"mobile\", $$v)},expression:\"registerForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"sms\"}},[_c('el-input',{staticClass:\"short\",attrs:{\"placeholder\":\"验证码\",\"type\":\"text\"},model:{value:(_vm.registerForm.sms),callback:function ($$v) {_vm.$set(_vm.registerForm, \"sms\", $$v)},expression:\"registerForm.sms\"}},[_c('template',{slot:\"append\"},[_c('span',{staticClass:\"sms\",class:_vm.getSmsContentFlag==true?'':'getAssaCon',on:{\"click\":_vm.getSms}},[_vm._v(_vm._s(_vm.getSmsContent))])])],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"confirm form-group\",on:{\"click\":_vm.gotoNext}},[_vm._v(\"下一步\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bg-purple left\"},[_c('router-link',{staticClass:\"span\",attrs:{\"to\":\"/login\"}},[_vm._v(\"<  返回密码登录\")])],1)])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"copy-right\"},[_vm._v(\"Copyright 2007-2017 华药共享网络科技有限公司\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo logo-title\"},[_c('div',{staticClass:\"title center\"},[_vm._v(\"新用户注册\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"line\"},[_c('span',[_vm._v(\"客  户\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.15533becf5ec31345c57.js","<template>\r\n  <div class=\"page-login-content\">\r\n    <div class=\"loginDiv\">\r\n      <div class=\"content forget_Pwd\">\r\n        <div class=\"logo logo-title\">\r\n          <div class=\"title center\">新用户注册</div>\r\n        </div>\r\n       <div class=\"line\"><span>客&nbsp;&nbsp;户</span></div>\r\n        <el-form :model=\"registerForm\" :rules=\"rules\" ref=\"registerForm\">\r\n          <el-form-item prop=\"mobile\">\r\n            <el-input placeholder=\"手机号码\" v-model=\"registerForm.mobile\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"sms\">\r\n            <el-input  placeholder=\"验证码\" type=\"text\" v-model=\"registerForm.sms\" class=\"short\">\r\n              <template slot=\"append\"><span class=\"sms\" @click=\"getSms\" :class=\"getSmsContentFlag==true?'':'getAssaCon'\" >{{getSmsContent}}</span></template>\r\n            </el-input>\r\n          </el-form-item>\r\n          <div class=\"confirm form-group\" @click=\"gotoNext\">下一步</div>\r\n        </el-form>\r\n        <el-row>\r\n          <el-col :span=\"12\"><div class=\"grid-content bg-purple left\"><router-link class=\"span\" to=\"/login\">&lt;&nbsp;&nbsp;返回密码登录</router-link></div></el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n    <div class=\"copy-right\">Copyright 2007-2017 华药共享网络科技有限公司</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import '../login/login.css'\r\n  import request from '@/utils/request'\r\n  import { setAuthToken, setSSession } from '@/utils/session'\r\n\r\n  export default {\r\n    data () {\r\n      var validMobile = (rule, value, callback) => {\r\n        this.isok = false\r\n      }\r\n      var checkMobile = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('请输入手机号!'))\r\n        } else {\r\n          if (!(/^1\\d{10}$/.test(value))) {\r\n            return callback(new Error('请输入正确的手机号!'))\r\n          } else if (this.isok === false) {\r\n            request.checkMobile({\r\n              mobile: this.registerForm.mobile\r\n            }).then(({ data }) => {\r\n              if (data.success) {\r\n                this.isok = true\r\n              } else {\r\n                return callback(new Error('手机号已被注册!'))\r\n              }\r\n            })\r\n          }\r\n        }\r\n      }\r\n      var sms = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('请输入验证码!'))\r\n        } else if (value.length !== 6) {\r\n          return callback(new Error('验证码为6位数!'))\r\n        } else {\r\n          this.issms = true\r\n        }\r\n      }\r\n      return {\r\n        isok: false,\r\n        issms: false,\r\n        getSmsContent:'获取验证码',\r\n        getSmsContentFlag:true,\r\n        registerForm: {\r\n          mobile: '',\r\n          sms: ''\r\n        },\r\n        rules: {\r\n          mobile: [\r\n            { required: true, validator: checkMobile, trigger: 'blur' },\r\n            { required: true, validator: validMobile, trigger: 'change' }\r\n          ],\r\n          sms: [\r\n            { required: true, validator: sms, trigger: 'blur' }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    created () {\r\n      document.addEventListener('keydown', this.enterSubmit, false)\r\n    },\r\n    destroyed () {\r\n      document.removeEventListener('keydown', this.enterSubmit, false)\r\n    },\r\n    \r\n    methods: {\r\n      getSms () {\r\n\t      \t\t    \t\r\n     \tif(this.getSmsContentFlag){\r\n\t      \t\tif (!this.registerForm.mobile) {\r\n\t      \t\t  this.$message.error('请输入手机号码！')\r\n\t      \t\t} else if (this.isok !== true) {\r\n\t      \t\t  this.$message.error('手机号码验证不通过！')\r\n\t      \t\t} else {\r\n\t      \t\t  request.sendSms({\r\n\t      \t\t    mobile: this.registerForm.mobile,\r\n\t      \t\t    module: 'userRegist'\r\n\t      \t\t  }).then(({ data }) => {\r\n\t      \t\t    if (data.success) {\r\n\t      \t\t      this.openSuccees('验证码获取成功！')\r\n\t      \t\t      this.getSmsContentFlag=false\r\n\t      \t\t    \tlet count=120\r\n\t      \t\t    \tvar timer=window.setInterval(() =>{\r\n\t      \t\t    \t\tcount--\r\n\t      \t\t    \t\tif(count>0){\r\n\t      \t\t    \t\t\tthis.getSmsContent=\"剩余时间\"+count+\"s\"\r\n\t      \t\t    \t\t}else{\r\n\t      \t\t    \t\t\tthis.getSmsContent=\"重新获取验证码\"\r\n\t      \t\t    \t\t\tthis.getSmsContentFlag=true\r\n\t      \t\t    \t\t\twindow.clearInterval(timer);\r\n\t      \t\t    \t\t}\r\n\t      \t\t    \t},1000)\r\n\t      \t\t    } else {\r\n\t      \t\t      this.openFalse('验证码获取失败！')\r\n\t      \t\t    }\r\n\t      \t\t  })\r\n\t      \t\t}\r\n      \t}else{\r\n      \t\tthis.openFalse('距离上次验证时间未到两分钟')\r\n    \t}\r\n      },\r\n      gotoNext () {\r\n        if (this.isok === true && this.issms === true) {\r\n          request.checkSms({\r\n            mobile: this.registerForm.mobile,\r\n            module: 'userRegist',\r\n            code: this.registerForm.sms\r\n          }).then(({ data }) => {\r\n            if (data.success) {\r\n              setAuthToken(data)\r\n              setSSession('hymobile', this.registerForm.mobile)\r\n              this.openSuccees('手机号码验证成功！')\r\n              this.$nextTick(() => {\r\n                this.$router.push({ path: '/companyInfo' })\r\n              })\r\n            } else {\r\n              this.openFalse(data.message)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      openSuccees (info) {\r\n        this.$message({\r\n          message: info,\r\n          type: 'success'\r\n        })\r\n      },\r\n      openFalse (info) {\r\n        this.$message.error(info)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n\t.getAssaCon{\r\n\t\tbackground-color: #BCBCBC;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/register/index.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".getAssaCon{background-color:#bcbcbc}\", \"\", {\"version\":3,\"sources\":[\"D:/Documents/HBuilderProject/Client/src/pages/register/index.vue\"],\"names\":[],\"mappings\":\"AACA,YACC,wBAA0B,CAC1B\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\n.getAssaCon{\\n\\tbackground-color: #BCBCBC;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c2751108\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/register/index.vue\n// module id = IlYH\n// module chunks = 3","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c2751108\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c2751108\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/register/index.vue\n// module id = TTwy\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c2751108\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4bc17ea0\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c2751108\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/register/index.vue\n// module id = n4vj\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-login-content\"},[_c('div',{staticClass:\"loginDiv\"},[_c('div',{staticClass:\"content forget_Pwd\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号码\"},model:{value:(_vm.registerForm.mobile),callback:function ($$v) {_vm.$set(_vm.registerForm, \"mobile\", $$v)},expression:\"registerForm.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"sms\"}},[_c('el-input',{staticClass:\"short\",attrs:{\"placeholder\":\"验证码\",\"type\":\"text\"},model:{value:(_vm.registerForm.sms),callback:function ($$v) {_vm.$set(_vm.registerForm, \"sms\", $$v)},expression:\"registerForm.sms\"}},[_c('template',{slot:\"append\"},[_c('span',{staticClass:\"sms\",class:_vm.getSmsContentFlag==true?'':'getAssaCon',on:{\"click\":_vm.getSms}},[_vm._v(_vm._s(_vm.getSmsContent))])])],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"confirm form-group\",on:{\"click\":_vm.gotoNext}},[_vm._v(\"下一步\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bg-purple left\"},[_c('router-link',{staticClass:\"span\",attrs:{\"to\":\"/login\"}},[_vm._v(\"<  返回密码登录\")])],1)])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"copy-right\"},[_vm._v(\"Copyright 2007-2017 华药共享网络科技有限公司\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo logo-title\"},[_c('div',{staticClass:\"title center\"},[_vm._v(\"新用户注册\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"line\"},[_c('span',[_vm._v(\"客  户\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c2751108\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/register/index.vue\n// module id = syXl\n// module chunks = 3"],"sourceRoot":""}