webpackJsonp([3],{GhND:function(e,t,s){"use strict";var r=s("fzeV"),o=(s.n(r),s("vLgD")),n=s("RH4F");t.a={data:function(){var e=this,t=function(t,s,r){e.isok=!1};return{isok:!1,issms:!1,getSmsContent:"获取验证码",getSmsContentFlag:!0,registerForm:{mobile:"",sms:""},rules:{mobile:[{required:!0,validator:function(t,s,r){return s?/^1\d{10}$/.test(s)?void(!1===e.isok&&o.a.checkMobile({mobile:e.registerForm.mobile}).then(function(t){if(!t.data.success)return r(new Error("手机号已被注册!"));e.isok=!0})):r(new Error("请输入正确的手机号!")):r(new Error("请输入手机号!"))},trigger:"blur"},{required:!0,validator:t,trigger:"change"}],sms:[{required:!0,validator:function(t,s,r){return s?6!==s.length?r(new Error("验证码为6位数!")):void(e.issms=!0):r(new Error("请输入验证码!"))},trigger:"blur"}]}}},created:function(){document.addEventListener("keydown",this.enterSubmit,!1)},destroyed:function(){document.removeEventListener("keydown",this.enterSubmit,!1)},methods:{getSms:function(){var e=this;this.getSmsContentFlag?this.registerForm.mobile?!0!==this.isok?this.$message.error("手机号码验证不通过！"):o.a.sendSms({mobile:this.registerForm.mobile,module:"userRegist"}).then(function(t){if(t.data.success){e.openSuccees("验证码获取成功！"),e.getSmsContentFlag=!1;var s=120,r=window.setInterval(function(){s--,s>0?e.getSmsContent="剩余时间"+s+"s":(e.getSmsContent="重新获取验证码",e.getSmsContentFlag=!0,window.clearInterval(r))},1e3)}else e.openFalse("验证码获取失败！")}):this.$message.error("请输入手机号码！"):this.openFalse("距离上次验证时间未到两分钟")},gotoNext:function(){var e=this;!0===this.isok&&!0===this.issms&&o.a.checkSms({mobile:this.registerForm.mobile,module:"userRegist",code:this.registerForm.sms}).then(function(t){var s=t.data;s.success?(Object(n.h)(s),Object(n.j)("hymobile",e.registerForm.mobile),e.openSuccees("手机号码验证成功！"),e.$nextTick(function(){e.$router.push({path:"/companyInfo"})})):e.openFalse(s.message)})},openSuccees:function(e){this.$message({message:e,type:"success"})},openFalse:function(e){this.$message.error(e)}}}},IlYH:function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,".getAssaCon{background-color:#bcbcbc}","",{version:3,sources:["D:/Documents/HBuilderProject/Client/src/pages/register/index.vue"],names:[],mappings:"AACA,YACC,wBAA0B,CAC1B",file:"index.vue",sourcesContent:["\n.getAssaCon{\n\tbackground-color: #BCBCBC;\n}\n"],sourceRoot:""}])},TTwy:function(e,t,s){"use strict";function r(e){s("n4vj")}Object.defineProperty(t,"__esModule",{value:!0});var o=s("GhND"),n=s("syXl"),i=s("VU/8"),a=r,l=i(o.a,n.a,!1,a,null,null);t.default=l.exports},n4vj:function(e,t,s){var r=s("IlYH");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("4bc17ea0",r,!0,{})},syXl:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-login-content"},[s("div",{staticClass:"loginDiv"},[s("div",{staticClass:"content forget_Pwd"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("el-form",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.rules}},[s("el-form-item",{attrs:{prop:"mobile"}},[s("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"sms"}},[s("el-input",{staticClass:"short",attrs:{placeholder:"验证码",type:"text"},model:{value:e.registerForm.sms,callback:function(t){e.$set(e.registerForm,"sms",t)},expression:"registerForm.sms"}},[s("template",{slot:"append"},[s("span",{staticClass:"sms",class:1==e.getSmsContentFlag?"":"getAssaCon",on:{click:e.getSms}},[e._v(e._s(e.getSmsContent))])])],2)],1),e._v(" "),s("div",{staticClass:"confirm form-group",on:{click:e.gotoNext}},[e._v("下一步")])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple left"},[s("router-link",{staticClass:"span",attrs:{to:"/login"}},[e._v("<  返回密码登录")])],1)])],1)],1)]),e._v(" "),s("div",{staticClass:"copy-right"},[e._v("Copyright 2007-2017 华药共享网络科技有限公司")])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo logo-title"},[s("div",{staticClass:"title center"},[e._v("新用户注册")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line"},[s("span",[e._v("客  户")])])}],n={render:r,staticRenderFns:o};t.a=n}});
//# sourceMappingURL=3.15533becf5ec31345c57.js.map