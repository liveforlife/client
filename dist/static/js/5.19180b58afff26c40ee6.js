webpackJsonp([5],{Ak9D:function(e,t,a){var l=a("jZpn");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("b2fbcebe",l,!0,{})},aSZt:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"account account-search"},[a("el-header",{staticStyle:{height:"50px"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("账户管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("账户查询")])],1)],1)]),e._v(" "),a("el-col",{attrs:{span:13}},[a("NavHeader")],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"操作提示",visible:e.centerDialogVisible,width:"40%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticStyle:{"font-size":"16px","text-align":"center"}},[e._v(e._s(e.content))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.confirmDel()}}},[e._v("确定")])],1)]),e._v(" "),a("el-main",[a("div",{staticStyle:{height:"120px","padding-top":"10px"}},[a("el-row",{staticStyle:{height:"50px"}},[a("el-form",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"    角色："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.roleFlag,callback:function(t){e.roleFlag=t},expression:"roleFlag"}},e._l(e.roleList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"    禁用登录："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.disable,callback:function(t){e.disable=t},expression:"disable"}},e._l(e.disableList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"    注销状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.deleteFlag,callback:function(t){e.deleteFlag=t},expression:"deleteFlag"}},e._l(e.deleteList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"search-btn liner-btn center",on:{click:function(t){e.accountList(0)}}},[a("i",{staticClass:"icon-m icon-search-11"}),e._v("查询")])])])],1)],1)],1),e._v(" "),a("div",{staticClass:"a-form-result"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{property:"username",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"mobile",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{property:"rolenames",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{property:"position",label:"岗位"}}),e._v(" "),a("el-table-column",{attrs:{property:"companyName",label:"公司名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"",label:"禁用状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.disable?a("span",{staticStyle:{color:"#fea014"}},[e._v("禁止登陆")]):e._e(),e._v(" "),0===t.row.disable&&0===t.row.deleteFlag?a("span",{staticStyle:{color:"#2fb9b3"}},[e._v("允许登录")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"",label:"注销状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.deleteFlag?a("span",{staticStyle:{color:"#fea014"}},[e._v("已注销")]):e._e(),e._v(" "),0===t.row.deleteFlag&&0===t.row.deleteFlag?a("span",{staticStyle:{color:"#2fb9b3"}},[e._v("未注销")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"createDateTime",label:"新建日期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:"",icon:"icon-s icon-edit"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("查看")]),e._v(" "),1===t.row.deleteFlag?[a("el-button",{attrs:{size:"mini",type:"success",plain:"",icon:"icon-s icon-prohibit",disabled:""}},[e._v("账户启用")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",plain:"",icon:"icon-s icon-cancel-2",disabled:""}},[e._v("注销")])]:[0===t.row.disable?a("el-button",{attrs:{size:"mini",type:"warning",plain:"",icon:"icon-s icon-prohibit"},on:{click:function(a){e.handToggle("stop",t.row)}}},[e._v("禁止登陆")]):e._e(),e._v(" "),1===t.row.disable?a("el-button",{attrs:{size:"mini",type:"success",plain:"",icon:"icon-s icon-prohibit"},on:{click:function(a){e.handToggle("start",t.row)}}},[e._v("账户启用")]):e._e(),e._v(" "),0===t.row.deleteFlag?a("el-button",{attrs:{size:"mini",type:"danger",plain:"",icon:"icon-s icon-cancel-2"},on:{click:function(a){e.handToggle("close",t.row)}}},[e._v("注销")]):e._e()]]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"操作提示",visible:e.centerDialogVisible,width:"40%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticStyle:{"font-size":"16px","text-align":"center"}},[e._v(e._s(e.content))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.confirm()}}},[e._v("确定")])],1)]),e._v(" "),a("el-row",{staticClass:"paging"},[a("el-col",{attrs:{span:13}},[a("div",{staticClass:"grid-content bg-purple"},[e._v("每页10行，当前第"),a("span",{staticClass:"common-color"},[e._v(e._s(e.pages))]),e._v("页")])]),e._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage1,"page-size":10,layout:"total, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage1=t}}})],1)])],1)],1)]),e._v(" "),a("el-footer",{staticStyle:{height:"44px"}},[e._v("版权所有：华药共享网络科技有限公司")])],1)},o=[],i={render:l,staticRenderFns:o};t.a=i},gkK6:function(e,t,a){"use strict";function l(e){a("Ak9D")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("yEDT"),i=a("aSZt"),n=a("VU/8"),s=l,r=n(o.a,i.a,!1,s,null,null);t.default=r.exports},jZpn:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".account-search .el-main>div{-webkit-box-shadow:0 0 8px #d9dde2;box-shadow:0 0 8px #d9dde2;border-radius:4px;overflow:hidden}.account-search .search{height:90px;line-height:90px;margin-bottom:20px}.account-search .search-btn{width:100px;height:40px;line-height:40px;margin-left:20px}.el-col{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.account-search .el-checkbox__label{color:#333}","",{version:3,sources:["D:/Documents/HBuilderProject/Client/src/pages/account/search/index.vue"],names:[],mappings:"AAGA,6BACE,mCAAsC,AAC9B,2BAA8B,AACtC,kBAAmB,AACnB,eAAiB,CAClB,AACD,wBACE,YAAa,AACb,iBAAkB,AAClB,kBAAoB,CACrB,AACD,4BACE,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,gBAAkB,CACnB,AACD,QACE,gBAAiB,AACjB,uBAAwB,AACxB,kBAAoB,CACrB,AACD,oCACE,UAAY,CACb",file:"index.vue",sourcesContent:["\n.account-search .el-main {\n}\n.account-search .el-main > div {\r\n  -webkit-box-shadow: 0 0px 8px #d9dde2;\r\n          box-shadow: 0 0px 8px #d9dde2;\r\n  border-radius: 4px;\r\n  overflow: hidden;\n}\n.account-search .search {\r\n  height: 90px;\r\n  line-height: 90px;\r\n  margin-bottom: 20px;\n}\n.account-search .search-btn {\r\n  width: 100px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  margin-left: 20px;\n}\n.el-col {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\n}\n.account-search .el-checkbox__label {\r\n  color: #333;\n}\r\n"],sourceRoot:""}])},yEDT:function(e,t,a){"use strict";var l=a("Lp+n"),o=a("vLgD"),i=a("RH4F"),n=a("4/BI");t.a={data:function(){return{info:Object(i.d)().data.org,checkList:[],role:[],currentPage1:1,tableData3:[],total:0,pages:"",content:"",caozuo:"",rowData:{},disable:"",deleteFlag:"",centerDialogVisible:!1,roleFlag:"",roleList:[{value:"",label:"不限"},{value:"201",label:"订单管理员"},{value:"202",label:"仓库管理员"},{value:"203",label:"财务管理员"}],disableList:[{value:"",label:"不限"},{value:"1",label:"禁用"},{value:"0",label:"启用"}],deleteList:[{value:"",label:"不限"},{value:"1",label:"注销"},{value:"0",label:"未注销"}]}},components:{NavHeader:l.a},mounted:function(){this.getRole(),this.accountList(0)},methods:{getRole:function(){var e=this;this.info.id?o.a.getComRole({companyId:this.info.id}).then(function(t){var a=t.data;a.success?e.role=a.data:e.$message.error(a.message)}):this.$message.error("获取角色信息出错！")},accountList:function(e){var t=this;console.log(this.checkList),this.info.id&&o.a.searAccount({cid:this.info.id,roleids:this.roleFlag,disable:this.disable,deleteFlag:this.deleteFlag,_size:"10",name:"",_offset:e}).then(function(e){var a=e.data;if(a.success){var l=a.data;l.records.forEach(function(e){e.createDateTime=Object(n.a)(e.createDateTime)}),t.tableData3=l.records,t.total=l.total,t.pages=l.pages}else t.$message.error(a.message)})},handleSizeChange:function(e){console.log(e+" items per page")},handleCurrentChange:function(e){this.page=e;var t=10*e-10;this.accountList(t)},handleEdit:function(e){this.$router.push({path:"/accountInfo?account="+e.id+"&company="+e.cid})},handToggle:function(e,t){switch(e){case"start":this.content="确定要启用该账户吗？";break;case"stop":this.content="确定要禁止登录该账户吗？";break;case"cancel":1!==t.disable?this.content="请先禁止登录该账户再注销！":this.content="确定要注销该账户吗？"}this.centerDialogVisible=!0,this.rowData=t,this.caozuo=e},confirm:function(){switch(this.caozuo){case"start":this.userDisable(!1,this.rowData.id);break;case"stop":this.userDisable(!0,this.rowData.id);break;case"close":1!==this.rowData.disable?this.centerDialogVisible=!1:this.userLogout(!0,this.rowData)}this.centerDialogVisible=!1,this.caozuo=""},userDisable:function(e,t){var a=this;o.a.userDisable({userid:t,disable:e}).then(function(t){var l=t.data,o="账户启用成功！";l.success?(!0===e?(o="账户禁止登陆成功！",a.rowData.disable=1):a.rowData.disable=0,a.rowData="",a.$message({message:o,type:"success"})):a.$message.error(l.message)})},userLogout:function(e,t){var a=this;o.a.userLogout({userid:t.id,disable:!0}).then(function(e){var t=e.data;t.success?(a.$message({message:"账户注销成功！",type:"success"}),a.rowData.deleteFlag=1,a.rowData=""):a.$message.error(t.message)})}}}}});
//# sourceMappingURL=5.19180b58afff26c40ee6.js.map